
{% extends "layout.html" %} 
{% block title %}{% endblock %} 
{% block head %} 
{{ super() }}
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
  href="https://fonts.googleapis.com/css2?family=Bonheur+Royale&family=Libre+Baskerville&display=swap"
  rel="stylesheet"
/>
    <title>Lista Multiselect</title>
    <style>
       

    .grid-container {
        display: grid;
        grid-template-rows: 30px 30px 250px  30px 250px  30px 250px 30px 30px;
        grid-template-columns: 3fr 1fr 3fr ;
        grid-gap: 5px;
        justify-items: center;
        align-items: center;
        grid-template-areas:
        "area1 area1 area1"
        "area2 area2 area3"
        "area4 area5 area6"
        "area4   .   area7"
        "area4 area8 area9"
        "area4 .  area10"
        "area4 area11 area12"
        "area13 area14 area15"
        "area16 area16 area16";
      }
    
    .grid-item1 {
    background: rgba(255, 255, 255, 0.5);
    text-align: center;
    
    grid-area: area1;
    }
    
    .grid-item2 {
    background: rgba(255, 255, 255, 0.5);
    text-align: center;
    
    grid-area: area2;
    }
    
    .grid-item3 {
    background: rgba(15, 120, 220, 0.5);
    text-align: center;
    
    grid-area: area3;
    }
    .grid-item4 {
    background: rgba(255, 255, 255, 0.5);
    text-align: center;
    
    grid-area: area4;
    }
    .grid-item5 {
        background: rgba(255, 255, 255, 0.5);
        text-align: center;
        
        grid-area: area5;
        }

    .grid-item6 {
        background: rgba(15, 120, 220, 0.5);
        text-align: center;
        
        grid-area: area6;
        }

        .grid-item7 {
        background: rgba(255, 255, 255, 0.5);
        text-align: center;
        
        grid-area: area7;
        }

        .grid-item8 {
        background: rgba(255, 255, 255, 0.5);
        text-align: center;
        
        grid-area: area8;
        }

        .grid-item9 {
            background: rgba(255, 255, 255, 0.5);
            text-align: center;
            
            grid-area: area9;
            }

        .grid-item10 {
        background: rgba(255, 255, 255, 0.5);
        text-align: center;
        
        grid-area: area10;
        }

        .grid-item11 {
        background: rgba(255, 255, 255, 0.5);
        text-align: center;
        
        grid-area: area11;
        }

        .grid-item12 {
        background: rgba(255, 255, 255, 0.5);
        text-align: center;
        
        grid-area: area12;
        }

        .grid-item13 {
        background: rgba(255, 255, 255, 0.5);
        text-align: center;
        
        grid-area: area13;
        }

        .grid-item14 {
        background: rgba(255, 255, 255, 0.5);
        text-align: center;
        
        grid-area: area14;
        }
        .grid-item15 {
        background: rgba(255, 255, 255, 0.5);
        text-align: center;
        
        grid-area: area15;
        }

        .grid-item16 {
            background: rgba(255, 255, 255, 0.5);
            text-align: center;
            
            grid-area: area16;
            }

                                                    
                    
                                                            
  </style>
  {% endblock %}


  {% block content %}
      


  <form action={{ url_for('plug')  }} method="POST">
    <div class="grid-container">
        <div class="grid-item1"><h3><input type="text" id="lmname" name="lmname" value="Menu découverte"><input type="number" min ="1.00" step ="0.10" id="prix" name="prix" value="38"></h3>
         </div>
        <div class="grid-item2">2</div>
        <div class="grid-item3"><h3><input type="text" id="l2name" name="l2name" value="Entré"></h3></div>
        <div class="grid-item4"><select id="multiselect" name="multiselect" multiple size="35">
          <!--optgroup label="Entrés"-->
          {% for row in registros %} 
          <option value="{{ row['titre'] }}">{{ row['titre'] }}</option>
          {% endfor %}
          <!-- Agrega más elementos según sea necesario -->
      </select></div>
        <div class="grid-item5"> 
            <button type="button" onclick="copyTo('multiselect','list2')">Copiar a Entré</button>
            <button type="button" onclick="agregarOpcion('list2')">Agregar a entré </button></div>
        <div class="grid-item6">
          <select id="list2" name="list2" multiple size="5"></select>
          <br>                
          <!-- Los elementos seleccionados se copiarán aquí -->
          <button type="button" onclick="removeSelected('list2')">Eliminar Seleccionados</button>
        </div>


        <div class="grid-item7"> <h3><input type="text" id="l3name" name="l3name" value="Plat"></h3></div>
        <div class="grid-item8"> 
            <button type="button" onclick="copyTo('multiselect','list3')">Copiar a Plat</button>
            <button type="button" onclick="agregarOpcion('list3')">Agregar a plat</button></div>
        <div class="grid-item9">
          <select id="list3" name="list3" multiple size="5"> </select>
          <br>                     
          <!-- Los elementos seleccionados se copiarán aquí -->
          <button type="button" onclick="removeSelected('list3')">Eliminar Seleccionados</button></div>


        <div class="grid-item10"><h3> <input type="text" id="l4name" name="l4name" value="Dessert"></h3></div>
        <div class="grid-item11"> 
            <button type="button" onclick="copyTo('multiselect','list4')">Copiar a Dessert</button>
            <button type="button" onclick="agregarOpcion('list4')">Agregar a dessert </button>
        </div>
        <div class="grid-item12">
          <select id="list4" name="list4" multiple size="5"></select>
          <br>        
                 
          <!-- Los elementos seleccionados se copiarán aquí -->
          <button type="button" onclick="removeSelected('list4')">Eliminar Seleccionados</button>
        </div>
        <div class="grid-item13"><input type="text" id="textoInput"></div>
        <div class="grid-item14">14</div>
        <div class="grid-item15">15</div>
        <div class="grid-item16"><input type="text" id="textoInput" name="boisson" placeholder="descrivez la boisson offerte" >   
            
            
        <button type="submit" name="accion" value="add" class=""  onclick="guardarListas()">Guardar Listas</button>
        </div>
       
      </div>
</form>





<script>
    function copyTo(sourceId, destinationId) {
        var sourceList = document.getElementById(sourceId);
        var destinationList = document.getElementById(destinationId);

        for (var i = 0; i < sourceList.options.length; i++) {
            if (sourceList.options[i].selected) {
                var option = sourceList.options[i];
                var newOption = new Option(option.text, option.value);
                destinationList.add(newOption);
            }
        }
    }

    function agregarOpcion(id) {
        // Obtener el valor del campo de texto
        var lista = document.getElementById(id)
        var texto = document.getElementById("textoInput").value;
        // Crear un elemento de opción
        var opcion = document.createElement("option");
        opcion.text = texto;
        opcion.value = texto;
        // Agregar la opción al select
        lista.appendChild(opcion);
    }


    function removeSelected(columnId) {
        var column = document.getElementById(columnId);
        var selectedOptions = column.selectedOptions;

        for (var option of selectedOptions) {
            option.remove();
        }
    }

    function copyTo(sourceId, destinationId) {
        var sourceList = document.getElementById(sourceId);
        var destinationList = document.getElementById(destinationId);

        for (var i = 0; i < sourceList.options.length; i++) {
            if (sourceList.options[i].selected) {
                var option = sourceList.options[i];
                var newOption = new Option(option.text, option.value);
                destinationList.add(newOption);
            }
        }
    }

    function seleccionarTodos() {
        var select = document.getElementById("list2");
        for (var i = 0; i < select.options.length; i++) {
            select.options[i].selected = true;
        }
        var select = document.getElementById("list3");
        for (var i = 0; i < select.options.length; i++) {
            select.options[i].selected = true;
        }
        var select = document.getElementById("list4");
        for (var i = 0; i < select.options.length; i++) {
            select.options[i].selected = true;
        }
    }


    function guardarListas() {
        seleccionarTodos()
        var listas = {
            lista1: obtenerContenidoLista('multiselect'),
            lista2: obtenerContenidoLista('list2'),
            lista3: obtenerContenidoLista('list3'),
            lista4: obtenerContenidoLista('list4')
        };

        // Aquí enviaríamos los datos al servidor utilizando fetch()
        fetch('https://jsonplaceholder.typicode.com/posts', {
            method: 'POST',
            body: JSON.stringify(listas),
            headers: {
                'Content-type': 'application/json; charset=UTF-8',
            },
        })
        .then(response => response.json())
        .then(data => console.log(data))
        .catch(error => console.error('Error:', error));
    }

    function obtenerContenidoLista(id) {
        var lista = document.getElementById(id);
        var contenido = [];
        for (var i = 0; i < lista.options.length; i++) {
            contenido.push(lista.options[i].value);
        }
        return contenido;
    }
    </script>

        
{% endblock %}